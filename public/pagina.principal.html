<!-- =======================
     PANEL PRINCIPAL - BIOKUAM
     FECHA: 08-04-2025
     PROGRAMADO POR: CMCB / JARR
     ======================= -->

<!DOCTYPE html>
<html lang="es">
<head>
  <!-- [CMCB] Configuraci√≥n general de codificaci√≥n y vista responsive -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- [JARR] T√≠tulo de la pesta√±a y enlaces de estilos -->
  <title>PANEL PRINCIPAL - BIOKUAM</title>
  <link rel="stylesheet" href="pagina-principal.css"/>
  <link rel="shortcut icon" href="IMG/LOGO DEL BARCO BKM.png" type="image/x-icon">
  
  <!-- [CMCB] Fuente Poppins desde Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  
  <!-- [JARR] Fuentes adicionales para estilo personalizado -->
  <link href="https://fonts.googleapis.com/css2?family=Handlee&family=Poetsen+One&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>





  <!-- 1. CSS de Leaflet: Define los estilos y apariencia del mapa. -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""/>
    
<!-- 2. JS de Leaflet: Contiene toda la l√≥gica y funciones para crear el mapa. -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20n6a9Kx/waD9wtlS+4s53S6X7tOAS+x+Z+aXgT9YgI="
    crossorigin=""></script>
</head>

<body>

  <!-- [CMCB] Encabezado con logo, navegaci√≥n y usuario -->
  <header>
    <div class="logo">
      <div class="logo-box">BKM</div>
      <p class="biokuam_subtitle">BIOKUAM</p>
    </div>
    <nav>
      <ul>
        <li><a href="#dashboard" onclick="mostrarSeccion('dashboard')">DASHBOARD</a></li>
        <li><a href="#monitoreo" onclick="mostrarSeccion('monitoreo')">MONITOREO</a></li>
        <li><a href="#reportes" onclick="mostrarSeccion('reportes')">REPORTES</a></li>
        <li><a href="#api" onclick="mostrarSeccion('api')">API</a></li>
        <li><a href="index.html" class="logout-btn">CERRAR SESI√ìN</a></li>
      </ul>
    </nav>
    <div class="user-info">
      <span id="usuario-nombre"></span>
      <div class="user-avatar">üë§</a></div>
    </div>
  </header>

  <main class="main-dashboard">
    
    <!-- [JARR] Secci√≥n principal: Dashboard -->
    <section id="dashboard" class="dashboard-section active">
      <div class="welcome-banner">
        <h1>¬°Bienvenido al Sistema BIOKUAM!</h1>
        <p>Monitoreo inteligente de calidad del agua para cultivos de ma√≠z</p>
      </div>

      <!-- [CMCB] Tarjetas con estad√≠sticas principales -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon">üö§</div>
          <div class="stat-info">
            <h3>Barcos Activos</h3>
            <span class="stat-number">3</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üåæ</div>
          <div class="stat-info">
            <h3>Fincas Registradas</h3>
            <span class="stat-number">12</span>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">üíß</div>
          <div class="stat-info">
            <h3>An√°lisis Realizados</h3>
            <span class="stat-number">247</span>
          </div>
        </div>
      </div>

      <!-- [JARR] Secci√≥n de acciones r√°pidas -->
      <div class="quick-actions">
        <h2>Acciones R√°pidas</h2>
        <div class="actions-grid">
          <button class="action-btn" onclick="mostrarSeccion('monitoreo')">
            <span class="action-icon">üì±</span>
            Monitoreo en Tiempo Real
          </button>
          <button class="action-btn" onclick="window.open('registrobarco.html', '_blank')">
            <span class="action-icon">‚öì</span>
            Registrar Nuevo Barco
          </button>
          <button class="action-btn" onclick="window.open('registrofinca.html', '_blank')">
            <span class="action-icon">üè°</span>
            Registrar Nueva Finca
          </button>
        </div>
      </div>
    </section>

    <!-- [CMCB] Secci√≥n de monitoreo en tiempo real -->
    <section id="monitoreo" class="dashboard-section">
      <center><h2>MONITOREO DEL BKM</h2></center>
      
      <!-- [JARR] Tarjetas de monitoreo por barco -->
      <div class="monitoring-grid">
        <div class="monitor-card">
          <h3>Barco BKM-001</h3>
          <div class="sensor-data">
            <div class="sensor-item">
              <span class="sensor-label">pH del Agua:</span>
              <span class="sensor-value good">##</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Temperatura:</span>
              <span class="sensor-value good">##¬∞C</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Ox√≠geno Disuelto:</span>
              <span class="sensor-value warning">## mg/L</span>
            </div>
          </div>
          <div class="status-indicator online">En L√≠nea</div>
        </div>

        <div class="monitor-card">
          <h3>Barco BKM-002</h3>
          <div class="sensor-data">
            <div class="sensor-item">
              <span class="sensor-label">pH del Agua:</span>
              <span class="sensor-value warning">##</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Temperatura:</span>
              <span class="sensor-value good">##¬∞C</span>
            </div>
            <div class="sensor-item">
              <span class="sensor-label">Ox√≠geno Disuelto:</span>
              <span class="sensor-value danger">## mg/L</span>
            </div>
          </div>
          <div class="status-indicator online">En L√≠nea</div>
        </div>
      </div>

      <!-- [CMCB] Panel con alertas recientes del sistema -->
      <div class="alerts-panel">
        <h3>Alertas Recientes</h3>
        <div class="alert-item warning">
          <span class="alert-time">10:30 AM</span>
          <span class="alert-message">Ox√≠geno bajo detectado en BKM-002</span>
        </div>
        <div class="alert-item info">
          <span class="alert-time">09:15 AM</span>
          <span class="alert-message">An√°lisis completado en Finca La Esperanza</span>
        </div>
      </div>
    </section>

    <!-- [JARR] Secci√≥n de reportes del sistema -->
    <section id="reportes" class="dashboard-section">
      <center><h2>REPORTES Y AN√ÅLISIS</h2></center>
      
          <!-- [JARR] Contenedor para visualizaci√≥n del ph en tiempo real -->
      <div class="chart-container">
        <center><h3>VISUALIZACI√ìN DEL PH EN TIEMPO REAL</h3></center>
          <p class="info_ph_tr"> DATOS DEL PH CAPTURADOS DESDE EL SENSOR PH 4502C - SIMIJACA, CUNDINAMARCA</p>
        <div class="chart-placeholder">
          <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/3151266/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line"></iframe>
          <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/3151266/maps/channel_show"></iframe>
          <iframe width="450" height="260" style="border: 1px solid #cccccc;" src="https://thingspeak.com/channels/2755422/charts/1?bgcolor=%23ffffff&color=%23d62020&dynamic=true&results=60&type=line&update=15"></iframe>

        
        </div>
      </div>

      <!-- [CMCB] Reportes descargables -->
      <div class="reports-grid">
        <div class="report-card">
          <h3>REPORTE SEMANAL</h3>
          <p>An√°lisis de calidad del agua de la √∫ltima semana</p>
          <div class="report-stats">
            <span>Muestras: ##</span>
            <span>Promedio pH: ##</span>
          </div>
          <button class="btn-download">Descargar PDF</button>
        </div>

        <div class="report-card">
          <h3>REPORTE MENSUAL</h3>
          <p>Resumen completo del mes actual</p>
          <div class="report-stats">
            <span>Muestras: ##</span>
            <span>Calidad: ##</span>
          </div>
          <button class="btn-download">Descargar PDF</button>
        </div>
      </div>


    </section>

    <section id="api" class="dashboard-section">
      <center><h2>CONDICIONES CLIM√ÅTICAS EN SIMIJACA, CUNDINAMARCA</h2></center>
    <div class="clima-container">
      <p id="ubicacion"></p>
      <p id="temperatura"></p>
      <p id="descripcion"></p>
      <p id="humedad"></p>
      <p id="viento"></p>
    </div>
    <script src="clima.js"></script>

    <!-- ESTRUCTURA COMPLETA DEL CHAT -->
    <div class="biokuam-chat-container">

        <!-- HEADER -->
        <div class="biokuam-chat-header">
            <h1 style="  font-family: 'Handlee', cursive">Biokuam AI Assistant üåΩ</h1>
            <h2>Simijaca, Cundinamarca - Consultor Virtual</h2>
        </div>

        <!-- DESCRIPCI√ìN -->
        <div class="biokuam-chat-description">
            Este chat usa IA para ayudarte con dudas sobre tus cultivos usando los datos del sistema:
            pH, humedad, temperatura y recomendaciones para riego o correcci√≥n del agua.
        </div>

        <!-- CHAT BOX -->
        <div id="biokuamChatBox" class="biokuam-chat-box">
            <!-- Mensaje inicial de bienvenida de la IA -->
            <div class="biokuam-msg-ai">
                ¬°Hola! Soy el asistente virtual de Biokuam. Estoy aqu√≠ para ayudarte a optimizar tus cultivos de ma√≠z. Preg√∫ntame sobre el pH ideal, la temperatura del agua o cualquier duda que tengas sobre tu cosecha en Simijaca.
            </div>
        </div>

        <!-- INPUT -->
        <div class="biokuam-input-area">
            <textarea id="biokuamUserInput" placeholder="Escribe tu pregunta aqu√≠..."></textarea>
            <button id="biokuamSendBtn">Enviar</button>
        </div>

    </div>


    </section>
    <script src="chat.js"></script>
    
    
  </main>

  
  <!-- [CMCB] Script para alternar entre secciones del panel -->
  <script>
    function mostrarSeccion(seccionId) {
      // Ocultar todas las secciones
      const secciones = document.querySelectorAll('.dashboard-section');
      secciones.forEach(seccion => {
        seccion.classList.remove('active');
      });
      
      // Mostrar la secci√≥n seleccionada
      document.getElementById(seccionId).classList.add('active');
    }
  </script>

</body>
</html>
